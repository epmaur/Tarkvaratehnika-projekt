{"version":3,"sources":["app.js","authConfig.js","environment.js","main.js","home/index.js","kaotatud_kettad/kaotatud_kettad.js","leitud_kettad/leitud_kettad.js","minu_kuulutused/minu_kuulutused.js","rajakaardi_redigeerimine/rajakaardi_redigeerimine.js","resources/index.js","sign_in/sign_in.js","uus_kuulutus/uus_kuulutus.js","vaata_rajakaarti/vaata_rajakaarti.js"],"names":["App","fetchConfig","configureRouter","config","router","configure","title","map","route","name","moduleId","activationStrategy","invokeLifecycle","nav","msg","configForDevelopment","providers","google","url","clientId","window","location","hostname","debug","testing","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","plugin","baseConfig","developmentLogging","start","then","a","setRoot","Home","activate","ads","client","fetch","response","json","lookAtMap","trackName","trackPictureURL","vaata_rajakaarti","routes","find","x","navigateToRoute","log","console","auth","getMe","kaotatud_kettad","types","filterAds","filterData","data","leitud_kettad","minu_kuulutused","deleteAd","id","currentInstruction","params","replace","rajakaardi_redigeerimine","colors","maps","widths","mousePressed","routeData","track","attached","init","addPic","myCanvas","document","getElementById","ctx","getContext","img","drawImage","save","dataURL","toDataURL","uus_kuulutus","canvasMouseDown","e","el","de","documentElement","box","target","getBoundingClientRect","top","pageYOffset","clientTop","left","pageXOffset","clientLeft","draw","pageX","pageY","canvasMouseLeave","canvasMouseUp","canvasMouseMove","y","isDown","beginPath","strokeStyle","color","lineWidth","width","lineJoin","moveTo","lastX","lastY","lineTo","closePath","stroke","clearArea","setTransform","clearRect","canvas","height","sign_in","userData","heading","email","password","login","catch","authenticate","adData","tracks","tracksWithMaps","selectedTrack","addAd","file","uploadFile","choosePic","formData","FormData","append","method","body","message","error","isRedigatable","indexOf","disc","content","indexOfSeparator1","indexOfSeparator2","substring","previousView","goToPreviousView"],"mappings":";;;;;;;;;;;;;;;;MAOaA,cAAAA,cAFZ,iEACA;AAGG,iBAAYC,WAAZ,EAAwB;AAAA;;AACtB,WAAKA,WAAL,GAAmBA,WAAnB;AACD;;kBAGDC,2CAAgBC,QAAQC,QAAQ;AAC5B,WAAKA,MAAL,GAAcA,MAAd;AACA,WAAKH,WAAL,CAAiBI,SAAjB;AACAF,aAAOG,KAAP,GAAe,YAAf;;AAEAH,aAAOI,GAAP,CAAW,CACT,EAAEC,OAAO,CAAC,EAAD,EAAK,MAAL,CAAT,EAA6BC,MAAM,MAAnC,EAAiDC,UAAU,YAA3D,EAAyEC,oBAAoB,kCAAmBC,eAAhH,EADS,EAET,EAAEJ,OAAO,iBAAT,EAA4BC,MAAM,iBAAlC,EAAsDC,UAAU,mCAAhE,EAAuGG,KAAK,IAA5G,EAAkHF,oBAAoB,kCAAmBC,eAAzJ,EAFS,EAGT,EAAEJ,OAAO,eAAT,EAA0BC,MAAM,eAAhC,EAAkDC,UAAU,+BAA5D,EAA+FG,KAAK,IAApG,EAHS,EAIT,EAAEL,OAAO,iBAAT,EAA4BM,KAAK,EAAjC,EAAqCL,MAAM,iBAA3C,EAA+DC,UAAU,mCAAzE,EAAgHG,KAAK,IAArH,EAA2HF,oBAAoB,kCAAmBC,eAAlK,EAJS,EAKT,EAAEJ,OAAO,cAAT,EAAyBC,MAAM,cAA/B,EAAgDC,UAAU,6BAA1D,EAA2FG,KAAK,IAAhG,EAAsGF,oBAAoB,kCAAmBC,eAA7I,EALS,EAMT,EAAEJ,OAAO,0BAAT,EAAqCM,KAAK,EAA1C,EAA8CL,MAAM,0BAApD,EAAgFC,UAAU,qDAA1F,EAAkJG,KAAK,IAAvJ,EAA6JF,oBAAoB,kCAAmBC,eAApM,EANS,EAOT,EAAEJ,OAAO,kBAAT,EAA6BM,KAAK,EAAlC,EAAuCL,MAAM,kBAA7C,EAAkEC,UAAU,qCAA5E,EAAqHG,KAAK,IAA1H,EAAgIF,oBAAoB,kCAAmBC,eAAvK,EAPS,EAQT,EAAEJ,OAAO,SAAT,EAAoBC,MAAM,SAA1B,EAAsCC,UAAU,mBAAhD,EAAuEG,KAAK,IAA5E,EAAkFF,oBAAoB,kCAAmBC,eAAzH,EARS,CAAX;AAUH;;;;;;;;;;;AC7BL,QAAIG,uBAAuB;AACvBC,mBAAW;AACPC,oBAAQ;AACJC,qBAAK,kCADD;AAEJC,0BAAU;AAFN;;AADD;AADY,KAA3B;;AAyBA,QAAIhB,MAAJ;AACA,QAAIiB,OAAOC,QAAP,CAAgBC,QAAhB,KAA2B,WAA/B,EAA4C;AACxCnB,iBAASY,oBAAT;AACH;sBAOcZ;;;;;;;;oBCnCA;AACboB,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;UCYCnB,YAAAA;;;;;;;;;;;;AAPhBoB,UAAQtB,MAAR,CAAe;AACbuB,qBAAiB,sBAAYH,KADhB;AAEbI,cAAU;AACRC,wBAAkB;AADV;AAFG,GAAf;;AAOO,WAASvB,SAAT,CAAmBwB,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,OAFH,CAEW,WAFX,EAGGC,MAHH,CAGU,cAHV,EAG0B,UAACC,UAAD,EAAc;AAC/BA,iBAAW7B,SAAX;AACJ,KALL;;AAOA,QAAI,sBAAYkB,KAAhB,EAAuB;AACrBM,cAAQC,GAAR,CAAYK,kBAAZ;AACD;;AAED,QAAI,sBAAYX,OAAhB,EAAyB;AACvBK,cAAQC,GAAR,CAAYG,MAAZ,CAAmB,iBAAnB;AACD;;AAEDJ,YAAQO,KAAR,GAAgBC,IAAhB,CAAqB;AAAA,aAAKC,EAAEC,OAAF,EAAL;AAAA,KAArB;AACD;;;;;;;;;;;;;;;;;;QCnBYC,eAAAA,eAFZ;AAGG,sBAAYpC,MAAZ,EAAmB;AAAA;;AACrB,iBAAKA,MAAL,GAAcA,MAAd;AACA;;uBAQEqC,+BAAW;AAAA;;AACP,iBAAKC,GAAL,GAAW,EAAX;AACA,gBAAIC,SAAS,oCAAb;AACAA,mBAAOC,KAAP,CAAa,4BAAb,EACJP,IADI,CACC;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aADD,EAEJT,IAFI,CAEC;AAAA,uBAAO,MAAKK,GAAL,GAAWA,GAAlB;AAAA,aAFD;AAKL;;uBAECK,+BAAUC,WAAWC,iBAAiB;AAClC,gBAAIC,mBAAmB,KAAK9C,MAAL,CAAY+C,MAAZ,CAAmBC,IAAnB,CAAwB;AAAA,uBAAKC,EAAE5C,IAAF,KAAW,kBAAhB;AAAA,aAAxB,CAAvB;AACNyC,6BAAiBpC,GAAjB,GAAuBkC,YAAY,QAAZ,GAAuBC,eAAvB,GAAyC,SAAzC,GAAqD,MAA5E;AACA,iBAAK7C,MAAL,CAAYkD,eAAZ,CAA4B,kBAA5B;AACG;;uBAEDC,qBAAM;AACFC,oBAAQD,GAAR,CAAY,KAAKE,IAAL,CAAUC,KAAV,EAAZ;AACH;;;;;;;;;;;;;;;;;;;;;QClCQC,0BAAAA,0BADZ;AAEG,iCAAYvD,MAAZ,EAAmB;AAAA;;AAAA,iBAGnBsC,GAHmB,GAGb,EAHa;AAAA,iBAInBkB,KAJmB,GAIX,CAAC,UAAD,EAAa,QAAb,CAJW;;AACrB,iBAAKxD,MAAL,GAAcA,MAAd;AACA;;kCAIEqC,+BAAW;AAAA;;AAEP,gBAAIE,SAAS,oCAAb;AACAA,mBAAOC,KAAP,CAAa,oCAAb,EACJP,IADI,CACC;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aADD,EAEJT,IAFI,CAEC;AAAA,uBAAO,MAAKK,GAAL,GAAWA,GAAlB;AAAA,aAFD;AAGH;;kCAEDmB,iCAAY;AAAA;;AAGR,gBAAIlB,SAAS,oCAAb;AACNA,mBAAOC,KAAP,CAAa,kCAAb,EAAiD;AAChD,0BAAU,MADsC;AAEhD,wBAAQ,8BAAK,KAAKkB,UAAV;AAFwC,aAAjD,EAIEzB,IAJF,CAIO;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aAJP,EAKET,IALF,CAKO;AAAA,uBAAQ,OAAKK,GAAL,GAAWqB,IAAnB;AAAA,aALP;AAMUP,oBAAQD,GAAR,CAAY,eAAZ;AACP;;kCAEDR,+BAAUC,WAAWC,iBAAiB;AAClC,gBAAIC,mBAAmB,KAAK9C,MAAL,CAAY+C,MAAZ,CAAmBC,IAAnB,CAAwB;AAAA,uBAAKC,EAAE5C,IAAF,KAAW,kBAAhB;AAAA,aAAxB,CAAvB;AACNyC,6BAAiBzC,IAAjB,GAAwBuC,YAAY,QAAZ,GAAuBC,eAAvB,GAAyC,SAAzC,GAAqD,iBAA7E;AACA,iBAAK7C,MAAL,CAAYkD,eAAZ,CAA4B,kBAA5B;AACG;;;;;;;;;;;;;;;;;;;;;QChCQU,wBAAAA,wBADZ;AAEG,+BAAY5D,MAAZ,EAAmB;AAAA;;AAAA,iBAGnB0D,UAHmB,GAGN,EAHM;AAAA,iBAInBpB,GAJmB,GAIb,EAJa;AAAA,iBAKnBkB,KALmB,GAKX,CAAC,QAAD,EAAW,UAAX,CALW;;AACrB,iBAAKxD,MAAL,GAAcA,MAAd;AACA;;gCAKEqC,+BAAW;AAAA;;AAEP,gBAAIE,SAAS,oCAAb;AACAA,mBAAOC,KAAP,CAAa,kCAAb,EACJP,IADI,CACC;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aADD,EAEJT,IAFI,CAEC;AAAA,uBAAO,MAAKK,GAAL,GAAWA,GAAlB;AAAA,aAFD;AAIH;;gCAGDmB,iCAAY;AAAA;;AAGR,gBAAIlB,SAAS,oCAAb;AACNA,mBAAOC,KAAP,CAAa,kCAAb,EAAiD;AAChD,0BAAU,MADsC;AAEhD,wBAAQ,8BAAK,KAAKkB,UAAV;AAFwC,aAAjD,EAIEzB,IAJF,CAIO;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aAJP,EAKET,IALF,CAKO;AAAA,uBAAQ,OAAKK,GAAL,GAAWqB,IAAnB;AAAA,aALP;AAMUP,oBAAQD,GAAR,CAAY,eAAZ;AACT;;gCAECR,+BAAUC,WAAWC,iBAAiB;AAClC,gBAAIC,mBAAmB,KAAK9C,MAAL,CAAY+C,MAAZ,CAAmBC,IAAnB,CAAwB;AAAA,uBAAKC,EAAE5C,IAAF,KAAW,kBAAhB;AAAA,aAAxB,CAAvB;AACNyC,6BAAiBzC,IAAjB,GAAwBuC,YAAY,QAAZ,GAAuBC,eAAvB,GAAyC,SAAzC,GAAqD,eAA7E;AACA,iBAAK7C,MAAL,CAAYkD,eAAZ,CAA4B,kBAA5B;AACG;;;;;;;;;;;;;;;;;;;;;QCnCQW,0BAAAA,0BADZ;AAGG,iCAAY7D,MAAZ,EAAmB;AAAA;;AACrB,iBAAKA,MAAL,GAAcA,MAAd;AACA;;kCAEEqC,+BAAW;AAAA;;AACP,iBAAKC,GAAL,GAAW,EAAX;AACA,gBAAIC,SAAS,oCAAb;AACAA,mBAAOC,KAAP,CAAa,4BAAb,EACJP,IADI,CACC;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aADD,EAEJT,IAFI,CAEC;AAAA,uBAAO,MAAKK,GAAL,GAAWA,GAAlB;AAAA,aAFD;AAGL;;kCAECwB,6BAASC,IAAI;AACT,gBAAIxB,SAAS,oCAAb;AACNA,mBAAOC,KAAP,CAAa,kCAAb,EAAiD;AAChD,0BAAU,MADsC;AAEhD,wBAAQ,8BAAKuB,EAAL;AAFwC,aAAjD,EAIE9B,IAJF,CAIO;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aAJP,EAKET,IALF,CAKO,gBAAQ;AACbmB,wBAAQD,GAAR,CAAY,mBAAmBQ,IAA/B;AAED,aARD;AASM,iBAAK3D,MAAL,CAAYkD,eAAZ,CACE,KAAKlD,MAAL,CAAYgE,kBAAZ,CAA+BjE,MAA/B,CAAsCM,IADxC,EAEE,KAAKL,MAAL,CAAYgE,kBAAZ,CAA+BC,MAFjC,EAGE,EAAEC,SAAS,IAAX,EAHF;AAMH;;;;;;;;;;;;;;;;;;;;;QC/BQC,mCAAAA,mCADZ;AAEG,0CAAYnE,MAAZ,EAAmB;AAAA;;AAAA,iBAYnB2D,IAZmB,GAYd,EAZc;AAAA,iBAcnBS,MAdmB,GAcV,CAAC,KAAD,EAAQ,OAAR,EAAgB,QAAhB,EAAyB,OAAzB,EAAiC,MAAjC,CAdU;AAAA,iBAenBC,IAfmB,GAeZ,EAfY;AAAA,iBAgBnBC,MAhBmB,GAgBV,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,CAhBU;AAAA,iBAmBnBC,YAnBmB,GAmBJ,KAnBI;;AACrB,iBAAKvE,MAAL,GAAcA,MAAd;AACA;;2CAEEqC,6BAAS4B,QAAQO,WAAW;AACxB,iBAAKC,KAAL,GAAaD,UAAU9D,GAAvB;AACA0C,oBAAQD,GAAR,CAAYqB,UAAU9D,GAAtB;AACH;;2CACDgE,+BAAW;AACP,iBAAKC,IAAL;AACA,iBAAKC,MAAL;AACH;;2CAeDD,uBAAO;AACH,iBAAKE,QAAL,GAAgBC,SAASC,cAAT,CAAwB,UAAxB,CAAhB;AACA,iBAAKC,GAAL,GAAWF,SAASC,cAAT,CAAwB,UAAxB,EAAoCE,UAApC,CAA+C,IAA/C,CAAX;AACA,gBAAIC,MAAMJ,SAASC,cAAT,CAAwB,OAAxB,CAAV;AACA,iBAAKC,GAAL,CAASG,SAAT,CAAmBD,GAAnB,EAAwB,GAAxB,EAA6B,GAA7B;AAEH;;2CAEDE,uBAAO;AACH,gBAAIC,UAAU,KAAKR,QAAL,CAAcS,SAAd,EAAd;AACN,gBAAIC,eAAe,KAAKvF,MAAL,CAAY+C,MAAZ,CAAmBC,IAAnB,CAAwB;AAAA,uBAAKC,EAAE5C,IAAF,KAAW,cAAhB;AAAA,aAAxB,CAAnB;AACAkF,yBAAa7E,GAAb,GAAmB2E,OAAnB;AACA,iBAAKrF,MAAL,CAAYkD,eAAZ,CAA4B,cAA5B;AAEG;;2CAEDsC,2CAAgBC,GAAGC,IAAI;AACnB,gBAAIC,KAAKb,SAASc,eAAlB;AACA,gBAAIC,MAAMJ,EAAEK,MAAF,CAASC,qBAAT,EAAV;AACA,gBAAIC,MAAMH,IAAIG,GAAJ,GAAUhF,OAAOiF,WAAjB,GAA+BN,GAAGO,SAA5C;AACA,gBAAIC,OAAON,IAAIM,IAAJ,GAAWnF,OAAOoF,WAAlB,GAAgCT,GAAGU,UAA9C;AACA,iBAAK9B,YAAL,GAAoB,IAApB;AACAnB,oBAAQD,GAAR,CAAYsC,EAAEK,MAAd;;AAEA,iBAAKQ,IAAL,CAAUb,EAAEc,KAAF,GAAUJ,IAApB,EAA0BV,EAAEe,KAAF,GAAUR,GAAV,GAAgB,EAA1C,EAA8C,KAA9C;AACH;;2CAEDS,6CAAiBhB,GAAG;AAChBrC,oBAAQD,GAAR,CAAY,aAAZ;AACA,iBAAKoB,YAAL,GAAoB,KAApB;AACH;;2CAEDmC,uCAAcjB,GAAG;AACb,iBAAKlB,YAAL,GAAoB,KAApB;AACH;;2CAEDoC,2CAAgBlB,GAAGC,IAAI;AACnB,gBAAIC,KAAKb,SAASc,eAAlB;AACA,gBAAIC,MAAMJ,EAAEK,MAAF,CAASC,qBAAT,EAAV;AACA,gBAAIC,MAAMH,IAAIG,GAAJ,GAAUhF,OAAOiF,WAAjB,GAA+BN,GAAGO,SAA5C;AACA,gBAAIC,OAAON,IAAIM,IAAJ,GAAWnF,OAAOoF,WAAlB,GAAgCT,GAAGU,UAA9C;AACA,gBAAI,KAAK9B,YAAT,EAAuB;AAEnB,qBAAK+B,IAAL,CAAUb,EAAEc,KAAF,GAAUJ,IAApB,EAA0BV,EAAEe,KAAF,GAAUR,GAAV,GAAgB,EAA1C,EAA8C,IAA9C;AACH;AACJ;;2CAGDM,qBAAKrD,GAAG2D,GAAGC,QAAQ;AACf,gBAAIA,MAAJ,EAAY;AACR,qBAAK7B,GAAL,CAAS8B,SAAT;AACA,qBAAK9B,GAAL,CAAS+B,WAAT,GAAuB,KAAKpD,IAAL,CAAUqD,KAAjC;AACA,qBAAKhC,GAAL,CAASiC,SAAT,GAAqB,KAAKtD,IAAL,CAAUuD,KAA/B;AACA,qBAAKlC,GAAL,CAASmC,QAAT,GAAoB,OAApB;AACA,qBAAKnC,GAAL,CAASoC,MAAT,CAAgB,KAAKC,KAArB,EAA4B,KAAKC,KAAjC;AACA,qBAAKtC,GAAL,CAASuC,MAAT,CAAgBtE,CAAhB,EAAmB2D,CAAnB;AACA,qBAAK5B,GAAL,CAASwC,SAAT;AACA,qBAAKxC,GAAL,CAASyC,MAAT;AACH;AACD,iBAAKJ,KAAL,GAAapE,CAAb,CAAgB,KAAKqE,KAAL,GAAaV,CAAb;AACnB;;2CAEDc,iCAAY;AAER,iBAAK1C,GAAL,CAAS2C,YAAT,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC;AACA,iBAAK3C,GAAL,CAAS4C,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAK5C,GAAL,CAAS6C,MAAT,CAAgBX,KAAzC,EAAgD,KAAKlC,GAAL,CAAS6C,MAAT,CAAgBC,MAAhE;AACH;;2CACAlD,2BAAS;AAAA;;AACZ,gBAAIrC,SAAS,oCAAb;AACAA,mBAAOC,KAAP,CAAa,gCAAgC,KAAKiC,KAAlD,EACExC,IADF,CACO;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aADP,EAEET,IAFF,CAEO;AAAA,uBAAQ,MAAKoC,IAAL,GAAYV,IAApB;AAAA,aAFP;;AAIMP,oBAAQD,GAAR,CAAY,KAAKkB,IAAjB;AACN;;;;;;;;;;;UC1GcpE,YAAAA;AAAT,WAASA,SAAT,CAAmBF,MAAnB,EAA2B,CAEjC;;;;;;;;;;;;;;;;;;;;;;;;;;QCIYgI,kBAAAA,kBADZ;AAIG,yBAAY1E,IAAZ,EAAiB;AAAA;;AAAA,iBAFjB2E,QAEiB,GAFR,EAEQ;AAAA,iBAIjBC,OAJiB,GAIP,OAJO;AAAA,iBAMjBC,KANiB,GAMX,EANW;AAAA,iBAOjBC,QAPiB,GAOR,EAPQ;;AACb,iBAAK9E,IAAL,GAAYA,IAAZ;AACH;;0BAMD+E,yBAAO;AAAA;;AACH,mBAAO,KAAK/E,IAAL,CAAU+E,KAAV,CAAgB,KAAKF,KAArB,EAA4B,KAAKC,QAAjC,EACNlG,IADM,CACD,oBAAU;AACZ,sBAAKiG,KAAL,GAAa,MAAKF,QAAL,CAAcE,KAA3B;AACA,sBAAKC,QAAL,GAAgB,MAAKH,QAAL,CAAcG,QAA9B;AACA/E,wBAAQD,GAAR,CAAY,oBAAoBV,QAAhC;AACH,aALM,EAMN4F,KANM,CAMA,eAAK;AACRjF,wBAAQD,GAAR,CAAY,eAAZ;AACH,aARM,CAAP;AASH;;0BAEDmF,qCAAajI,MAAK;AACd,mBAAO,KAAKgD,IAAL,CAAUiF,YAAV,CAAuBjI,IAAvB,EAA6B,KAA7B,EAAoC,IAApC,EACN4B,IADM,CACD,UAACQ,QAAD,EAAY;AACdW,wBAAQD,GAAR,CAAY,mBAAmBV,QAA/B;AACH,aAHM,CAAP;AAIH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MC5BQ8C,uBAAAA,uBADZ,8DA8DI,oCAAa,aAAb,EAA4B,cAA5B,EAA4C,gBAA5C;AA5DJ,0BAAYvF,MAAZ,EAAmB;AAAA;;AAAA,WAGhBuI,MAHgB,GAGP,EAHO;AAAA,WAanBC,MAbmB,GAaV,CAAC,WAAD,EAAc,oBAAd,EAAoC,qBAApC,CAbU;AAAA,WAchBC,cAdgB,GAcD,CAAC,WAAD,CAdC;AAAA,WAehBjF,KAfgB,GAeR,CAAC,UAAD,EAAa,QAAb,CAfQ;AAAA,WAgBhBkF,aAhBgB,GAgBD,EAhBC;;AAClB,WAAK1I,MAAL,GAAcA,MAAd;AACA;;2BAGEqC,6BAAS4B,QAAQO,WAAW;AACxB,UAAIA,UAAU9D,GAAV,IAAiB,cAArB,EAAqC;AAEjC,aAAK6H,MAAL,CAAY1F,eAAZ,GAA8B2B,UAAU9D,GAAxC;AAEH;AACJ;;2BAOJiI,yBAAQ;AAAA;;AAEP,UAAIpG,SAAS,oCAAb;AACAA,aAAOC,KAAP,CAAa,+BAAb,EAA8C;AAC7C,kBAAU,MADmC;AAE7C,gBAAQ,8BAAK,KAAK+F,MAAV;AAFqC,OAA9C,EAIEtG,IAJF,CAIO;AAAA,eAAYQ,SAASC,IAAT,EAAZ;AAAA,OAJP,EAKET,IALF,CAKO,gBAAQ;AACbmB,gBAAQD,GAAR,CAAY,mBAAmBQ,KAAKc,KAApC;;AAEQ,YAAId,KAAKiF,IAAL,IAAa,uBAAjB,EAA0C;AACtC,gBAAKC,UAAL,CAAgBlF,KAAKI,EAArB;AACH;AACD,cAAK/D,MAAL,CAAYkD,eAAZ,CAA4B,iBAA5B;AACT,OAZD;;AAcAE,cAAQD,GAAR,CAAY,kBAAZ;AACA;;2BAED2F,iCAAW;AACV1F,cAAQD,GAAR,CAAY,KAAKoF,MAAL,CAAY9D,KAAxB;AACA,UAAIN,2BAA2B,KAAKnE,MAAL,CAAY+C,MAAZ,CAAmBC,IAAnB,CAAwB;AAAA,eAAKC,EAAE5C,IAAF,KAAW,0BAAhB;AAAA,OAAxB,CAA/B;AACA8D,+BAAyBzD,GAAzB,GAA+B,KAAK6H,MAAL,CAAY9D,KAA3C;AACA,WAAKzE,MAAL,CAAYkD,eAAZ,CAA4B,0BAA5B;AACA;;2BAGD2F,iCAAW9E,IAAI;AACd,UAAIxB,SAAS,oCAAb;AACA,UAAIwG,WAAW,IAAIC,QAAJ,EAAf;AACAD,eAASE,MAAT,CAAgB,YAAhB,EAA8B,KAAKV,MAAL,CAAYK,IAAZ,CAAiB,CAAjB,CAA9B;AACErG,aAAOC,KAAP,CAAa,oCAAoCuB,EAAjD,EAAqD;AAClDmF,gBAAQ,MAD0C;AAEjDC,cAAMJ;AAF2C,OAArD,EAIK9G,IAJL,CAIU;AAAA,eAAYQ,SAASC,IAAT,EAAZ;AAAA,OAJV,EAKKT,IALL,CAKU;AAAA,eAAQmB,QAAQD,GAAR,CAAYQ,KAAKyF,OAAjB,CAAR;AAAA,OALV,EAMKf,KANL,CAMW;AAAA,eAASjF,QAAQD,GAAR,CAAYkG,KAAZ,CAAT;AAAA,OANX;AAQC;;2BASDC,uCAAc7E,OAAO;AAEjBrB,cAAQD,GAAR,CAAY,KAAKsB,KAAjB;AACArB,cAAQD,GAAR,CAAY,KAAKsF,cAAjB;AACArF,cAAQD,GAAR,CAAY,KAAKsF,cAAL,CAAoBc,OAApB,CAA4B,KAAK9E,KAAjC,IAAyC,CAAC,CAAtD;AACA,aAAO,KAAKgE,cAAL,CAAoBc,OAApB,CAA4B,KAAKb,aAAjC,IAAkD,CAAC,CAA1D;AACH;;;;0BAZmB;AAChB,YAAIH,SAAS,KAAKA,MAAlB;;AAEA,eAAQA,OAAOiB,IAAP,IAAejB,OAAOvB,KAAtB,IAA+BuB,OAAOkB,OAA9C;AACH;;;;;;;;;;;;;;;;;;;;;;QCnEQ3G,2BAAAA,2BADZ;AAMG,kCAAY9C,MAAZ,EAAmB;AAAA;;AACrB,iBAAKA,MAAL,GAAcA,MAAd;AACA;;mCAEEqC,6BAAS4B,QAAQO,WAAW;AACxB,gBAAIkF,oBAAoBlF,UAAU9D,GAAV,CAAc6I,OAAd,CAAsB,QAAtB,CAAxB;AACA,gBAAII,oBAAoBnF,UAAU9D,GAAV,CAAc6I,OAAd,CAAsB,SAAtB,CAAxB;AACA,iBAAK9E,KAAL,GAAaD,UAAU9D,GAAV,CAAckJ,SAAd,CAAwB,CAAxB,EAA0BF,iBAA1B,CAAb;AACA,iBAAK7G,eAAL,GAAuB2B,UAAU9D,GAAV,CAAckJ,SAAd,CAAwBF,oBAAoB,CAA5C,EAA+CC,iBAA/C,CAAvB;AACA,iBAAKE,YAAL,GAAoBrF,UAAU9D,GAAV,CAAckJ,SAAd,CAAwBD,oBAAoB,CAA5C,CAApB;AACAvG,oBAAQD,GAAR,CAAY,KAAKsB,KAAjB;AACArB,oBAAQD,GAAR,CAAY,KAAKN,eAAjB;AACAO,oBAAQD,GAAR,CAAY,KAAK0G,YAAjB;AACH;;mCAEDnF,+BAAW;AACP,iBAAKE,MAAL;AACH;;mCAEDA,2BAAS;AAAA;;AACX,gBAAIrC,SAAS,oCAAb;AACAA,mBAAOC,KAAP,CAAa,gCAAgC,KAAKiC,KAAlD,EACExC,IADF,CACO;AAAA,uBAAYQ,SAASC,IAAT,EAAZ;AAAA,aADP,EAEET,IAFF,CAEO;AAAA,uBAAQ,MAAKoC,IAAL,GAAYV,IAApB;AAAA,aAFP;;AAIMP,oBAAQD,GAAR,CAAY,KAAKkB,IAAjB;AACN;;mCAEEyF,+CAAmB;AACf,iBAAK9J,MAAL,CAAYkD,eAAZ,CAA4B,KAAK2G,YAAjC;AACH","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\r\nimport {FetchConfig} from 'aurelia-auth';\r\nimport {activationStrategy} from 'aurelia-router';\r\n\r\n\r\n@inject(FetchConfig)\r\n@inject(activationStrategy)\r\nexport class App {\r\n    \r\n    constructor(fetchConfig){\r\n      this.fetchConfig = fetchConfig;\r\n    }\r\n    \r\n    \r\n    configureRouter(config, router) {\r\n        this.router = router;\r\n        this.fetchConfig.configure();\r\n        config.title = 'DiscSeeker';\r\n\r\n        config.map([\r\n          { route: ['', 'home'],       name: 'home',       moduleId: 'home/index', activationStrategy: activationStrategy.invokeLifecycle},\r\n          { route: 'kaotatud_kettad', name: 'kaotatud_kettad',  moduleId: './kaotatud_kettad/kaotatud_kettad',   nav: true, activationStrategy: activationStrategy.invokeLifecycle},\r\n          { route: 'leitud_kettad', name: 'leitud_kettad',  moduleId: './leitud_kettad/leitud_kettad',   nav: true},\r\n          { route: 'minu_kuulutused', msg: '', name: 'minu_kuulutused',  moduleId: './minu_kuulutused/minu_kuulutused',   nav: true, activationStrategy: activationStrategy.invokeLifecycle },\r\n          { route: 'uus_kuulutus', name: 'uus_kuulutus',  moduleId: './uus_kuulutus/uus_kuulutus',   nav: true, activationStrategy: activationStrategy.invokeLifecycle},\r\n          { route: 'rajakaardi_redigeerimine', msg: '', name: 'rajakaardi_redigeerimine', moduleId: './rajakaardi_redigeerimine/rajakaardi_redigeerimine',  nav: true, activationStrategy: activationStrategy.invokeLifecycle},\r\n          { route: 'vaata_rajakaarti', msg: '' , name: 'vaata_rajakaarti',  moduleId: './vaata_rajakaarti/vaata_rajakaarti',   nav: true, activationStrategy: activationStrategy.invokeLifecycle},\r\n          { route: 'sign_in', name: 'sign_in',  moduleId: './sign_in/sign_in',   nav: true, activationStrategy: activationStrategy.invokeLifecycle }\r\n        ]);\r\n    }\r\n}\r\n","var configForDevelopment = {\r\n    providers: {\r\n        google: {\r\n            url: 'http://localhost:8080/googleauth',\r\n            clientId: '661115396114-g2gskun6b0l7cuit2978rs51p21hpjp7.apps.googleusercontent.com'\r\n        }\r\n        \r\n    }\r\n};\r\n/*\r\nvar configForProduction = {\r\n    providers: {\r\n        google: {\r\n            clientId: '239531826023-3ludu3934rmcra3oqscc1gid3l9o497i.apps.googleusercontent.com'\r\n        }\r\n        ,\r\n        linkedin:{\r\n            clientId:'7561959vdub4x1'\r\n        },\r\n        facebook:{\r\n            clientId:'1653908914832509'\r\n        }\r\n\r\n    }\r\n};*/\r\nvar config ;\r\nif (window.location.hostname==='localhost') {\r\n    config = configForDevelopment;\r\n}\r\n/*\r\nelse{\r\n    config = configForProduction;\r\n}*/\r\n\r\n\r\nexport default config;","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import environment from './environment';\r\nimport config from './authConfig';\r\n\r\n\r\n//Configure Bluebird Promises.\r\nPromise.config({\r\n  longStackTraces: environment.debug,\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources')\r\n    .plugin('aurelia-auth', (baseConfig)=>{\r\n           baseConfig.configure(config);\r\n      });\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(a => a.setRoot());\r\n}\r\n","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\nimport {AuthService} from 'aurelia-auth';\r\n\r\n\r\n\r\n\r\n@inject(Router)\r\n//@inject(AuthService)\r\nexport class Home {\r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    /*\r\n    constructor(auth){\r\n        this.auth = auth;\r\n    };*/\r\n    \r\n\r\n    \r\n    activate() {\r\n        this.ads = []\r\n        let client = new HttpClient();\r\n        client.fetch('http://localhost:8080/ads/')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(ads => this.ads = ads);\r\n        \r\n        \r\n\t\t};\r\n    \r\n    lookAtMap(trackName, trackPictureURL) {\r\n        let vaata_rajakaarti = this.router.routes.find(x => x.name === 'vaata_rajakaarti');\r\n\t\tvaata_rajakaarti.msg = trackName + '%NING%' + trackPictureURL + '%NING2%' + \"home\";\r\n\t\tthis.router.navigateToRoute('vaata_rajakaarti');\r\n    }\r\n    \r\n    log() {\r\n        console.log(this.auth.getMe());\r\n    }\r\n    \r\n    \r\n    \r\n}","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class kaotatud_kettad{\r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    ads = []\r\n    types = ['kaotatud', 'leitud'];\r\n\r\n    activate() {\r\n        //this.ads = []\r\n        let client = new HttpClient();\r\n        client.fetch('http://localhost:8080/ads/kaotatud')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(ads => this.ads = ads);\r\n    };\r\n\r\n    filterAds() {\r\n        //this.filteredAds= []\r\n        \r\n        let client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/ads/params', {\r\n\t\t\t'method': \"POST\",\r\n\t\t\t'body': json(this.filterData)\r\n\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.ads = data);\r\n            console.log(\"Ads filtered!\")\r\n    };\r\n\r\n    lookAtMap(trackName, trackPictureURL) {\r\n        let vaata_rajakaarti = this.router.routes.find(x => x.name === 'vaata_rajakaarti');\r\n\t\tvaata_rajakaarti.name = trackName + '%NING%' + trackPictureURL + '%NING2%' + \"kaotatud_kettad\";\r\n\t\tthis.router.navigateToRoute('vaata_rajakaarti');\r\n    }\r\n\r\n    \r\n\r\n}","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class leitud_kettad{\r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    filterData = {}\r\n    ads = []\r\n    types = ['leitud', 'kaotatud'];\r\n\r\n    activate() {\r\n        //this.ads = []\r\n        let client = new HttpClient();\r\n        client.fetch('http://localhost:8080/ads/leitud')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(ads => this.ads = ads);\r\n\r\n    };\r\n    \r\n    \r\n    filterAds() {\r\n        //this.filteredAds= []\r\n        \r\n        let client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/ads/params', {\r\n\t\t\t'method': \"POST\",\r\n\t\t\t'body': json(this.filterData)\r\n\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.ads = data);\r\n            console.log(\"Ads filtered!\")\r\n\t\t};\r\n\r\n    lookAtMap(trackName, trackPictureURL) {\r\n        let vaata_rajakaarti = this.router.routes.find(x => x.name === 'vaata_rajakaarti');\r\n\t\tvaata_rajakaarti.name = trackName + '%NING%' + trackPictureURL + '%NING2%' + \"leitud_kettad\";\r\n\t\tthis.router.navigateToRoute('vaata_rajakaarti');\r\n    }\r\n}\r\n\r\n","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class minu_kuulutused{\r\n    \r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    \r\n    activate() {\r\n        this.ads = []\r\n        let client = new HttpClient();\r\n        client.fetch('http://localhost:8080/ads/')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(ads => this.ads = ads);\r\n\t\t};\r\n    \r\n    deleteAd(id) {\r\n        let client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/ads/delete', {\r\n\t\t\t'method': \"POST\",\r\n\t\t\t'body': json(id)\r\n\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log(\"Server saatis \" + data);\r\n            \r\n\t\t});\r\n        this.router.navigateToRoute(\r\n          this.router.currentInstruction.config.name,\r\n          this.router.currentInstruction.params,\r\n          { replace: true }\r\n        );\r\n        \r\n    };\r\n        \r\n        \r\n}","import {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class rajakaardi_redigeerimine {\r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    track;\r\n    activate(params, routeData) {\r\n        this.track = routeData.msg;\r\n        console.log(routeData.msg)\r\n    }\r\n    attached() {\r\n        this.init()\r\n        this.addPic()\r\n    }\r\n    data={};\r\n\r\n    colors = ['red', 'black','yellow','green','blue'];\r\n    maps = [];\r\n    widths = ['1','3','5','7','9'];\r\n    \r\n    \r\n    mousePressed = false;\r\n    lastX;\r\n    lastY;\r\n    ctx;\r\n    myCanvas;\r\n\r\n\r\n    init() {\r\n        this.myCanvas = document.getElementById('myCanvas');\r\n        this.ctx = document.getElementById('myCanvas').getContext(\"2d\");\r\n        var img = document.getElementById('image');\r\n        this.ctx.drawImage(img, 200, 200);\r\n        \r\n    }\r\n\r\n    save() {\r\n        var dataURL = this.myCanvas.toDataURL();\r\n\t\tlet uus_kuulutus = this.router.routes.find(x => x.name === 'uus_kuulutus');\r\n\t\tuus_kuulutus.msg = dataURL;\r\n\t\tthis.router.navigateToRoute('uus_kuulutus');\r\n        \r\n    }\r\n\r\n    canvasMouseDown(e, el) {\r\n        var de = document.documentElement;\r\n        var box = e.target.getBoundingClientRect();\r\n        var top = box.top + window.pageYOffset - de.clientTop;\r\n        var left = box.left + window.pageXOffset - de.clientLeft;\r\n        this.mousePressed = true;\r\n        console.log(e.target);\r\n        //this.draw(e.pageX - e.target.getClientRects()[0].left, e.pageY - e.target.getClientRects()[0].top, false);\r\n        this.draw(e.pageX - left, e.pageY - top - 11, false);\r\n    }\r\n\r\n    canvasMouseLeave(e) {\r\n        console.log(\"mouse leave\");\r\n        this.mousePressed = false;\r\n    }\r\n\r\n    canvasMouseUp(e) {\r\n        this.mousePressed = false;\r\n    }\r\n\r\n    canvasMouseMove(e, el) {\r\n        var de = document.documentElement;\r\n        var box = e.target.getBoundingClientRect();\r\n        var top = box.top + window.pageYOffset - de.clientTop;\r\n        var left = box.left + window.pageXOffset - de.clientLeft;\r\n        if (this.mousePressed) {\r\n            //this.draw(e.pageX - e.target.getClientRects()[0].left, e.pageY - e.target.getClientRects()[0].top, true);\r\n            this.draw(e.pageX - left, e.pageY - top - 11, true);\r\n        }\r\n    }\r\n\r\n\r\n    draw(x, y, isDown) {\r\n        if (isDown) {\r\n            this.ctx.beginPath();\r\n            this.ctx.strokeStyle = this.data.color;\r\n            this.ctx.lineWidth = this.data.width;\r\n            this.ctx.lineJoin = \"round\";\r\n            this.ctx.moveTo(this.lastX, this.lastY);\r\n            this.ctx.lineTo(x, y);\r\n            this.ctx.closePath();\r\n            this.ctx.stroke();\r\n        }\r\n        this.lastX = x; this.lastY = y;\r\n    }\r\n\r\n    clearArea() {\r\n        // Use the identity matrix while clearing the canvas\r\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n        this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n    }\r\n     addPic() {\r\n\t\tlet client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/maps/' + this.track) \r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.maps = data);\r\n            \r\n        console.log(this.maps);\r\n\t};\t\r\n    \r\n    \r\n}","export function configure(config) {\r\n  //config.globalResources([]);\r\n}\r\n","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport config from '../authConfig';\r\nimport {AuthService} from 'aurelia-auth';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(AuthService)\r\nexport class sign_in {\r\n    userData={};\r\n\r\n    constructor(auth){\r\n        this.auth = auth;\r\n    };\r\n\r\n    heading = 'Login';\r\n\r\n    email='';\r\n    password='';\r\n    login(){\r\n        return this.auth.login(this.email, this.password)\r\n        .then(response=>{\r\n            this.email = this.userData.email;\r\n            this.password = this.userData.password;\r\n            console.log(\"success logged \" + response);\r\n        })\r\n        .catch(err=>{\r\n            console.log(\"login failure\");\r\n        });\r\n    };\r\n\r\n    authenticate(name){\r\n        return this.auth.authenticate(name, false, null)\r\n        .then((response)=>{\r\n            console.log(\"auth response \" + response);\r\n        });\r\n    }\r\n\r\n    \r\n    \r\n}","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\nimport {computedFrom} from 'aurelia-framework';\r\n\r\n@inject(Router)\r\nexport class uus_kuulutus{\r\n\tconstructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    adData = {};\r\n    //dataURL;\r\n    activate(params, routeData) {\r\n        if (routeData.msg != 'uus_kuulutus') {\r\n            //console.log(routeData.name);\r\n            this.adData.trackPictureURL = routeData.msg;\r\n            //console.log(this.adData.trackPictureURL);\r\n        }\r\n    }\r\n    \r\n\ttracks = ['Alatskivi', 'Elva discgolfirada', 'Nõmme discgolfirada'];\r\n    tracksWithMaps=['Alatskivi']\r\n    types = ['kaotatud', 'leitud'];\r\n    selectedTrack= '';\r\n\r\n\taddAd() {\r\n        \r\n\t\tlet client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/ads/add', {\r\n\t\t\t'method': \"POST\",\r\n\t\t\t'body': json(this.adData)\r\n\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log(\"Server saatis \" + data.track);\r\n        \r\n            if (data.file != 'pildid/pilti_pole.jpg') {\r\n                this.uploadFile(data.id);\r\n            }\r\n            this.router.navigateToRoute('minu_kuulutused');\r\n\t\t});\r\n        \r\n\t\tconsole.log(\"Method executed!\")\r\n\t}\r\n\r\n\tchoosePic(){\r\n\t\tconsole.log(this.adData.track);\r\n\t\tlet rajakaardi_redigeerimine = this.router.routes.find(x => x.name === 'rajakaardi_redigeerimine');\r\n\t\trajakaardi_redigeerimine.msg = this.adData.track;\r\n\t\tthis.router.navigateToRoute('rajakaardi_redigeerimine');\r\n\t}\r\n\r\n\r\n\tuploadFile(id) {\r\n\t\tlet client = new HttpClient();\r\n\t\tlet formData = new FormData();\r\n\t\tformData.append(\"uploadfile\", this.adData.file[0]);\r\n  \t\tclient.fetch('http://localhost:8080/ads/file/' + id, { \r\n     \t\tmethod: 'POST', \r\n      \t\tbody: formData\r\n    })\r\n      \t\t.then(response => response.json())\r\n      \t\t.then(data => console.log(data.message))\r\n      \t\t.catch(error => console.log(error));\r\n\t\t\t\r\n    }\r\n\r\n    @computedFrom('adData.disc', 'adData.color', 'adData.content')\r\n    get IsSubmittable() {\r\n        let adData = this.adData;\r\n\r\n        return (adData.disc && adData.color && adData.content);\r\n    }\r\n\r\n    isRedigatable(track) {\r\n        //let tracksWithMaps = this.tracksWithMaps;\r\n        console.log(this.track)\r\n        console.log(this.tracksWithMaps)\r\n        console.log(this.tracksWithMaps.indexOf(this.track)> -1)\r\n        return this.tracksWithMaps.indexOf(this.selectedTrack) > -1;\r\n    }\r\n\r\n}\r\n","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class vaata_rajakaarti {\r\n    track;\r\n    trackPictureURL;\r\n    previousView;\r\n    \r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    \r\n    activate(params, routeData) {\r\n        var indexOfSeparator1 = routeData.msg.indexOf(\"%NING%\");\r\n        var indexOfSeparator2 = routeData.msg.indexOf(\"%NING2%\");\r\n        this.track = routeData.msg.substring(0,indexOfSeparator1);\r\n        this.trackPictureURL = routeData.msg.substring(indexOfSeparator1 + 6, indexOfSeparator2);\r\n        this.previousView = routeData.msg.substring(indexOfSeparator2 + 7);\r\n        console.log(this.track);\r\n        console.log(this.trackPictureURL);\r\n        console.log(this.previousView);\r\n    }\r\n    \r\n    attached() {\r\n        this.addPic()\r\n    }\r\n    \r\n    addPic() {\r\n\t\tlet client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/maps/' + this.track) \r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.maps = data);\r\n            \r\n        console.log(this.maps);\r\n\t};\r\n    \r\n    goToPreviousView() {\r\n        this.router.navigateToRoute(this.previousView);\r\n    }\r\n    \r\n}"],"sourceRoot":"../src"}