{"version":3,"sources":["app.js","environment.js","main.js","kaotatud_kettad/kaotatud_kettad.js","minu_kuulutused/minu_kuulutused.js","leitud_kettad/leitud_kettad.js","rajakaardi_redigeerimine/rajakaardi_redigeerimine.js","resources/index.js","uus_kuulutus/uus_kuulutus.js","home/index.js","vaata_rajakaarti/vaata_rajakaarti.js"],"names":["App","configureRouter","config","router","title","map","route","name","moduleId","nav","debug","testing","configure","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","a","setRoot","kaotatud_kettad","ads","types","activate","client","fetch","response","json","filterAds","filterData","data","console","log","lookAtMap","trackName","trackPictureURL","vaata_rajakaarti","routes","find","x","navigateToRoute","minu_kuulutused","leitud_kettad","rajakaardi_redigeerimine","colors","maps","widths","mousePressed","params","routeData","track","attached","init","addPic","myCanvas","document","getElementById","ctx","getContext","img","drawImage","save","dataURL","toDataURL","uus_kuulutus","canvasMouseDown","e","el","de","documentElement","box","target","getBoundingClientRect","top","window","pageYOffset","clientTop","left","pageXOffset","clientLeft","draw","pageX","pageY","canvasMouseLeave","canvasMouseUp","canvasMouseMove","y","isDown","beginPath","strokeStyle","color","lineWidth","width","lineJoin","moveTo","lastX","lastY","lineTo","closePath","stroke","clearArea","setTransform","clearRect","canvas","height","adData","tracks","selectedTrack","addAd","uploadFile","id","choosePic","formData","FormData","append","file","method","body","message","catch","error","Home","indexOfSeparator","indexOf","substring"],"mappings":"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","file":"app-bundle.js","sourcesContent":["\r\nexport class App {\r\nconfigureRouter(config, router) {\r\n    this.router = router;\r\n    config.title = 'DiscSeeker';\r\n\r\n    config.map([\r\n      { route: ['', 'home'],       name: 'home',       moduleId: 'home/index' },\r\n      { route: 'kaotatud_kettad', name: 'kaotatud_kettad',  moduleId: './kaotatud_kettad/kaotatud_kettad',   nav: true },\r\n      { route: 'leitud_kettad', name: 'leitud_kettad',  moduleId: './leitud_kettad/leitud_kettad',   nav: true },\r\n      { route: 'minu_kuulutused', name: 'minu_kuulutused',  moduleId: './minu_kuulutused/minu_kuulutused',   nav: true },\r\n      { route: 'uus_kuulutus', name: 'uus_kuulutus',  moduleId: './uus_kuulutus/uus_kuulutus',   nav: true },\r\n      { route: 'rajakaardi_redigeerimine', name: 'rajakaardi_redigeerimine', moduleId: './rajakaardi_redigeerimine/rajakaardi_redigeerimine',  nav: true },\r\n      { route: 'vaata_rajakaarti', name: 'vaata_rajakaarti',  moduleId: './vaata_rajakaarti/vaata_rajakaarti',   nav: true }\r\n    ]);\r\n  }\r\n}\r\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import environment from './environment';\r\n\r\n//Configure Bluebird Promises.\r\nPromise.config({\r\n  longStackTraces: environment.debug,\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(a => a.setRoot());\r\n}\r\n","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class kaotatud_kettad{\r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    ads = []\r\n    types = ['kaotatud', 'leitud'];\r\n\r\n    activate() {\r\n        //this.ads = []\r\n        let client = new HttpClient();\r\n        client.fetch('http://localhost:8080/ads/kaotatud')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(ads => this.ads = ads);\r\n    };\r\n\r\n    filterAds() {\r\n        //this.filteredAds= []\r\n        \r\n        let client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/ads/params', {\r\n\t\t\t'method': \"POST\",\r\n\t\t\t'body': json(this.filterData)\r\n\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.ads = data);\r\n            console.log(\"Ads filtered!\")\r\n    };\r\n\r\n    lookAtMap(trackName, trackPictureURL) {\r\n        let vaata_rajakaarti = this.router.routes.find(x => x.name === 'vaata_rajakaarti');\r\n\t\tvaata_rajakaarti.name = trackName + '%NING%' + trackPictureURL;\r\n\t\tthis.router.navigateToRoute('vaata_rajakaarti');\r\n    }\r\n\r\n}","import {HttpClient, json} from 'aurelia-fetch-client'\r\n\r\nexport class minu_kuulutused{\r\n    activate() {\r\n        this.ads = []\r\n        let client = new HttpClient();\r\n        client.fetch('http://localhost:8080/ads/')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(ads => this.ads = ads);\r\n\r\n\t\t};\r\n\r\n}","import {HttpClient, json} from 'aurelia-fetch-client'\r\n\r\nexport class leitud_kettad{\r\n    filterData = {}\r\n    ads = []\r\n    types = ['leitud', 'kaotatud'];\r\n\r\n    activate() {\r\n        //this.ads = []\r\n        let client = new HttpClient();\r\n        client.fetch('http://localhost:8080/ads/leitud')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(ads => this.ads = ads);\r\n\r\n    };\r\n    \r\n    \r\n    filterAds() {\r\n        //this.filteredAds= []\r\n        \r\n        let client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/ads/params', {\r\n\t\t\t'method': \"POST\",\r\n\t\t\t'body': json(this.filterData)\r\n\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.ads = data);\r\n            console.log(\"Ads filtered!\")\r\n\t\t};\r\n}\r\n\r\n","import {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class rajakaardi_redigeerimine {\r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    track;\r\n    activate(params, routeData) {\r\n        this.track = routeData.name;\r\n        console.log(routeData.name)\r\n    }\r\n    attached() {\r\n        this.init()\r\n        this.addPic()\r\n    }\r\n    data={};\r\n\r\n    colors = ['red', 'black','yellow','green','blue'];\r\n    maps = [];\r\n    widths = ['1','3','5','7','9'];\r\n    \r\n    \r\n    mousePressed = false;\r\n    lastX;\r\n    lastY;\r\n    ctx;\r\n    myCanvas;\r\n\r\n\r\n    init() {\r\n        this.myCanvas = document.getElementById('myCanvas');\r\n        this.ctx = document.getElementById('myCanvas').getContext(\"2d\");\r\n        var img = document.getElementById('image');\r\n        this.ctx.drawImage(img, 200, 200);\r\n        \r\n    }\r\n\r\n    save() {\r\n        var dataURL = this.myCanvas.toDataURL();\r\n\t\tlet uus_kuulutus = this.router.routes.find(x => x.name === 'uus_kuulutus');\r\n\t\tuus_kuulutus.name = dataURL;\r\n\t\tthis.router.navigateToRoute('uus_kuulutus');\r\n        \r\n    }\r\n\r\n    canvasMouseDown(e, el) {\r\n        var de = document.documentElement;\r\n        var box = e.target.getBoundingClientRect();\r\n        var top = box.top + window.pageYOffset - de.clientTop;\r\n        var left = box.left + window.pageXOffset - de.clientLeft;\r\n        this.mousePressed = true;\r\n        console.log(e.target);\r\n        //this.draw(e.pageX - e.target.getClientRects()[0].left, e.pageY - e.target.getClientRects()[0].top, false);\r\n        this.draw(e.pageX - left, e.pageY - top - 11, false);\r\n    }\r\n\r\n    canvasMouseLeave(e) {\r\n        console.log(\"mouse leave\");\r\n        this.mousePressed = false;\r\n    }\r\n\r\n    canvasMouseUp(e) {\r\n        this.mousePressed = false;\r\n    }\r\n\r\n    canvasMouseMove(e, el) {\r\n        var de = document.documentElement;\r\n        var box = e.target.getBoundingClientRect();\r\n        var top = box.top + window.pageYOffset - de.clientTop;\r\n        var left = box.left + window.pageXOffset - de.clientLeft;\r\n        if (this.mousePressed) {\r\n            //this.draw(e.pageX - e.target.getClientRects()[0].left, e.pageY - e.target.getClientRects()[0].top, true);\r\n            this.draw(e.pageX - left, e.pageY - top - 11, true);\r\n        }\r\n    }\r\n\r\n\r\n    draw(x, y, isDown) {\r\n        if (isDown) {\r\n            this.ctx.beginPath();\r\n            this.ctx.strokeStyle = this.data.color;\r\n            this.ctx.lineWidth = this.data.width;\r\n            this.ctx.lineJoin = \"round\";\r\n            this.ctx.moveTo(this.lastX, this.lastY);\r\n            this.ctx.lineTo(x, y);\r\n            this.ctx.closePath();\r\n            this.ctx.stroke();\r\n        }\r\n        this.lastX = x; this.lastY = y;\r\n    }\r\n\r\n    clearArea() {\r\n        // Use the identity matrix while clearing the canvas\r\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n        this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n    }\r\n     addPic() {\r\n\t\tlet client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/maps/' + this.track) \r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.maps = data);\r\n            \r\n        console.log(this.maps);\r\n\t};\t\r\n    \r\n    \r\n}","export function configure(config) {\r\n  //config.globalResources([]);\r\n}\r\n","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class uus_kuulutus{\r\n\tconstructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    adData = {};\r\n    //dataURL;\r\n    activate(params, routeData) {\r\n        if (routeData.name != 'uus_kuulutus') {\r\n            //console.log(routeData.name);\r\n            this.adData.trackPictureURL = routeData.name;\r\n            //console.log(this.adData.trackPictureURL);\r\n        }\r\n    }\r\n    \r\n\ttracks = ['Alatskivi', 'Elva discgolfirada', 'NÃµmme discgolfirada'];\r\n    types = ['kaotatud', 'leitud'];\r\n    selectedTrack= '';\r\n\r\n\taddAd() {\r\n\t\tlet client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/ads/add', {\r\n\t\t\t'method': \"POST\",\r\n\t\t\t'body': json(this.adData)\r\n\t\t})\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log(\"Server saatis \" + data.trackPictureURL);\r\n\t\t\tthis.uploadFile(data.id);\r\n\t\t});\r\n\r\n\t\tconsole.log(\"Method executed!\")\r\n\t}\r\n\tchoosePic(){\r\n\t\tconsole.log(this.adData.track);\r\n\t\tlet rajakaardi_redigeerimine = this.router.routes.find(x => x.name === 'rajakaardi_redigeerimine');\r\n\t\trajakaardi_redigeerimine.name = this.adData.track;\r\n\t\tthis.router.navigateToRoute('rajakaardi_redigeerimine');\r\n\t}\r\n\r\n\r\n\tuploadFile(id) {\r\n\t\tlet client = new HttpClient();\r\n\t\tlet formData = new FormData();\r\n\t\tformData.append(\"uploadfile\", this.adData.file[0]);\r\n  \t\tclient.fetch('http://localhost:8080/ads/file/' + id, { \r\n     \t\tmethod: 'POST', \r\n      \t\tbody: formData\r\n    })\r\n      \t\t.then(response => response.json())\r\n      \t\t.then(data => console.log(data.message))\r\n      \t\t.catch(error => console.log(error));\r\n\t\t\tconsole.log(this.adData.file[0]);\r\n    }\r\n}\r\n","import {HttpClient, json} from 'aurelia-fetch-client'\r\nexport class Home {\r\n    \r\n    activate() {\r\n        this.ads = []\r\n        let client = new HttpClient();\r\n        client.fetch('http://localhost:8080/ads/')\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(ads => this.ads = ads);\r\n        \r\n        \r\n\t\t};\r\n    \r\n}","import {HttpClient, json} from 'aurelia-fetch-client'\r\nimport {inject} from 'aurelia-framework'\r\nimport {Router} from 'aurelia-router'\r\n\r\n@inject(Router)\r\nexport class vaata_rajakaarti {\r\n    track;\r\n    trackPictureURL;\r\n    \r\n    constructor(router){\r\n\t\tthis.router = router;\r\n\t}\r\n    \r\n    activate(params, routeData) {\r\n        var indexOfSeparator = routeData.name.indexOf(\"%NING%\");\r\n        this.track = routeData.name.substring(0,indexOfSeparator);\r\n        this.trackPictureURL = routeData.name.substring(indexOfSeparator + 6);\r\n        console.log(this.track);\r\n        console.log(this.trackPictureURL);\r\n    }\r\n    \r\n    attached() {\r\n        this.addPic()\r\n    }\r\n    \r\n    addPic() {\r\n\t\tlet client = new HttpClient();\r\n\t\tclient.fetch('http://localhost:8080/maps/' + this.track) \r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => this.maps = data);\r\n            \r\n        console.log(this.maps);\r\n\t};\r\n    \r\n}"],"sourceRoot":"../src"}